<form [formGroup]="pregnancyForm" class="mx-auto max-w-2xl p-4" tuiForm="l">
  <div class="-mx-2 flex flex-wrap">
    <div class="mb-8 w-full px-2 md:w-1/2">
      <tui-input-date formControlName="expectedBirthDate">
        <label tuiLabel>Ngày dự sinh</label>
        <input placeholder="Placeholder" tuiTextfieldLegacy />
      </tui-input-date>
      <tui-error [error]="[] | tuiFieldError | async" formControlName="expectedBirthDate" />
    </div>
    <div class="mb-8 w-full px-2 md:w-1/2">
      <tui-input-date formControlName="nextVisitDate">
        <label tuiLabel>Ngày tái khám</label>
        <input placeholder="Placeholder" tuiTextfieldLegacy />
      </tui-input-date>
      <tui-error [error]="[] | tuiFieldError | async" formControlName="nextVisitDate" />
    </div>

    @if (hospitals | async) {
      <div class="mb-8 w-full px-2 md:w-1/2">
        <tui-select formControlName="hospital">
          <label tuiLabel>Bệnh viện</label>
          <input placeholder="Bệnh viện" tuiTextfieldLegacy />
          <tui-data-list-wrapper *tuiDataList [items]="hospitalNames | async" />
        </tui-select>
        <tui-error [error]="[] | tuiFieldError | async" formControlName="hospital" />
      </div>
    }
    <div class="mb-8 w-full px-2 md:w-1/2">
      <tui-input-date formControlName="visitDoctorDate">
        <label tuiLabel>Ngày khám bác sĩ</label>
        <input placeholder="Placeholder" tuiTextfieldLegacy />
      </tui-input-date>
      <tui-error [error]="[] | tuiFieldError | async" formControlName="visitDoctorDate" />
    </div>
    @for (metric of metrics | async; track $index) {
      <div class="mb-8 w-full px-2 md:w-1/2">
        <tui-textfield>
          <label tuiLabel>{{ metric.title }}</label>

          <input tuiInputNumber formControlName="{{ metric.id }}" />
        </tui-textfield>

        <tui-error [error]="[] | tuiFieldError | async" formControlName="{{ metric.id }}" />
      </div>
    }
    <div class="mb-8 w-full px-2 md:w-1/2">
      <app-file-upload></app-file-upload>
    </div>
  </div>
  <div class="flex flex-wrap">
    @for (src of imgSrcListSignal(); track $index) {
      <app-image-preview [imgObj]="src"></app-image-preview>
    }
  </div>
  <footer class="mt-4 flex justify-end space-x-2">
    <button tuiButton type="submit" appearance="primary">Submit</button>
    <button appearance="outline" tuiButton type="button">Cancel</button>
  </footer>
</form>
