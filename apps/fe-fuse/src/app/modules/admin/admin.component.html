<div class="flex min-w-0 flex-auto flex-col bg-gray-50">
  <!-- Main -->
  <div class="-mt-px flex-auto border-t pt-4 sm:pt-6">
    <div class="mx-auto w-full max-w-screen-xl">
      <!-- Tabs -->
      <mat-tab-group class="sm:px-2" mat-stretch-tabs="false" [animationDuration]="'0'">
        <!-- Home -->
        <mat-tab label="Thống kê dữ liệu">
          <ng-template matTabContent>
            <div class="grid w-full min-w-0 grid-cols-1 gap-6 sm:grid-cols-2 md:grid-cols-4">
              <!-- Summary -->
              <div class="bg-card flex flex-auto flex-col overflow-hidden rounded-2xl p-6 shadow">
                <div class="flex items-start justify-between">
                  <div class="truncate text-lg font-medium leading-6 tracking-tight">Tổng thành viên</div>
                </div>
                <div class="mt-2 flex flex-col items-center">
                  <div class="text-7xl font-bold leading-none tracking-tight text-blue-500 sm:text-8xl">21</div>
                  <div class="text-lg font-medium text-blue-600 dark:text-blue-500">Due Tasks</div>
                  <div class="text-secondary mt-5 flex w-full items-baseline justify-center">
                    <div class="text-md truncate font-medium">Completed:</div>
                    <div class="ml-1.5 text-lg font-semibold">13</div>
                  </div>
                </div>
              </div>
              <!-- Overdue -->
              <div class="bg-card flex flex-auto flex-col overflow-hidden rounded-2xl p-6 shadow">
                <div class="flex items-start justify-between">
                  <div class="truncate text-lg font-medium leading-6 tracking-tight">Tổng người đăng kí</div>
                </div>
                <div class="mt-2 flex flex-col items-center">
                  <div class="text-7xl font-bold leading-none tracking-tight text-red-500 sm:text-8xl">17</div>
                  <div class="text-lg font-medium text-red-600 dark:text-red-500">Tasks</div>
                  <div class="text-secondary mt-5 flex w-full items-baseline justify-center">
                    <div class="text-md truncate font-medium">From yesterday:</div>
                    <div class="ml-1.5 text-lg font-semibold">9</div>
                  </div>
                </div>
              </div>
              <!-- Issues -->
              <div class="bg-card flex flex-auto flex-col overflow-hidden rounded-2xl p-6 shadow">
                <div class="flex items-start justify-between">
                  <div class="truncate text-lg font-medium leading-6 tracking-tight">Số lượt mua gói</div>
                </div>
                <div class="mt-2 flex flex-col items-center">
                  <div class="text-7xl font-bold leading-none tracking-tight text-amber-500 sm:text-8xl">24</div>
                  <div class="text-lg font-medium text-amber-600 dark:text-amber-500">Open</div>
                  <div class="text-secondary mt-5 flex w-full items-baseline justify-center">
                    <div class="text-md truncate font-medium">Closed today:</div>
                    <div class="ml-1.5 text-lg font-semibold">19</div>
                  </div>
                </div>
              </div>
              <!-- Features -->
              <div class="bg-card flex flex-auto flex-col overflow-hidden rounded-2xl p-6 shadow">
                <div class="flex items-start justify-between">
                  <div class="truncate text-lg font-medium leading-6 tracking-tight">Features</div>
                  <div class="-mr-3 -mt-2 ml-2">
                    <button mat-icon-button [matMenuTriggerFor]="featuresMenu">
                      <mat-icon class="icon-size-5" [svgIcon]="'heroicons_mini:ellipsis-vertical'"></mat-icon>
                    </button>
                    <mat-menu #featuresMenu="matMenu">
                      <button mat-menu-item>Yesterday</button>
                      <button mat-menu-item>2 days ago</button>
                      <button mat-menu-item>3 days ago</button>
                    </mat-menu>
                  </div>
                </div>
                <div class="mt-2 flex flex-col items-center">
                  <div class="text-7xl font-bold leading-none tracking-tight text-green-500 sm:text-8xl">38</div>
                  <div class="text-lg font-medium text-green-600 dark:text-green-500">Proposals</div>
                  <div class="text-secondary mt-5 flex w-full items-baseline justify-center">
                    <div class="text-md truncate font-medium">Implemented:</div>
                    <div class="ml-1.5 text-lg font-semibold">16</div>
                  </div>
                </div>
              </div>

              <!--              dashboard của payment-->
              <div class="bg-card flex flex-auto flex-col overflow-hidden rounded-2xl p-6 shadow sm:col-span-2 md:col-span-4">
                <div class="flex flex-col items-start justify-between sm:flex-row">
                  <div class="truncate text-lg font-medium leading-6 tracking-tight">Biểu đồ thống kê số tiền</div>
                  <div class="mt-3 sm:ml-2 sm:mt-0">
                    <mat-button-toggle-group value="data" #githubIssuesWeekSelector="matButtonToggleGroup">
                      <mat-button-toggle value="data">This Week</mat-button-toggle>
                    </mat-button-toggle-group>
                  </div>
                </div>
                <div class="mt-8 grid w-full grid-flow-row grid-cols-1 gap-6 sm:mt-4 lg:grid-cols-2">
                  <!-- New vs. Closed -->
                  <div class="flex flex-auto flex-col">
                    <div class="flex flex-auto flex-col">
                      <apx-chart
                        class="h-80 w-full flex-auto"
                        [chart]="chartGithubIssues.chart"
                        [colors]="chartGithubIssues.colors"
                        [dataLabels]="chartGithubIssues.dataLabels"
                        [grid]="chartGithubIssues.grid"
                        [labels]="chartGithubIssues.labels"
                        [legend]="chartGithubIssues.legend"
                        [plotOptions]="chartGithubIssues.plotOptions"
                        [series]="chartGithubIssues.series['data']"
                        [states]="chartGithubIssues.states"
                        [stroke]="chartGithubIssues.stroke"
                        [tooltip]="chartGithubIssues.tooltip"
                        [xaxis]="chartGithubIssues.xaxis"
                        [yaxis]="chartGithubIssues.yaxis"
                      ></apx-chart>
                    </div>
                  </div>
                  <!-- Overview -->
                  <div class="flex flex-col">
                    <div class="text-secondary font-medium">Overview</div>
                    <div class="mt-6 grid flex-auto grid-cols-4 gap-4">
                      <!-- New issues -->
                      <div
                        class="col-span-2 flex flex-col items-center justify-center rounded-2xl bg-indigo-50 px-1 py-8 text-indigo-800 dark:bg-white dark:bg-opacity-5 dark:text-indigo-400"
                      >
                        <div class="text-5xl font-semibold leading-none tracking-tight sm:text-7xl">
                          {{ data.githubIssues.overview[githubIssuesWeekSelector.value]['newIssues'] }}
                        </div>
                        <div class="mt-1 text-sm font-medium sm:text-lg">Tháng cao nhất</div>
                      </div>
                      <!-- Closed -->
                      <div
                        class="col-span-2 flex flex-col items-center justify-center rounded-2xl bg-green-50 px-1 py-8 text-green-800 dark:bg-white dark:bg-opacity-5 dark:text-green-500"
                      >
                        <div class="text-5xl font-semibold leading-none tracking-tight sm:text-7xl">
                          {{ data.githubIssues.overview[githubIssuesWeekSelector.value]['closedIssues'] }}
                        </div>
                        <div class="mt-1 text-sm font-medium sm:text-lg">Tháng thấp nhất</div>
                      </div>
                    </div>
                  </div>
                </div>
              </div>
              <!-- Task distribution -->
              <div class="bg-card flex flex-auto flex-col overflow-hidden rounded-2xl p-6 shadow sm:col-span-2 md:col-span-4 lg:col-span-2">
                <div class="flex flex-col items-start justify-between sm:flex-row">
                  <div class="truncate text-lg font-medium leading-6 tracking-tight">Biểu đồ số lượng gói người dùng đăng kí</div>
                </div>
                <div class="mt-6 flex flex-auto flex-col">
                  <apx-chart
                    class="h-80 w-full flex-auto"
                    [chart]="chartTaskDistribution.chart"
                    [labels]="chartTaskDistribution.labels"
                    [legend]="chartTaskDistribution.legend"
                    [plotOptions]="chartTaskDistribution.plotOptions"
                    [series]="chartTaskDistribution.series['data']"
                    [states]="chartTaskDistribution.states"
                    [stroke]="chartTaskDistribution.stroke"
                    [theme]="chartTaskDistribution.theme"
                    [tooltip]="chartTaskDistribution.tooltip"
                    [yaxis]="chartTaskDistribution.yaxis"
                  ></apx-chart>
                </div>
                <div class="-m-6 mt-4 grid grid-cols-2 divide-x border-t bg-gray-50 dark:bg-transparent">
                  <div class="flex flex-col items-center justify-center p-6 sm:p-8">
                    <div class="text-5xl font-semibold leading-none tracking-tighter">
                      {{ data.taskDistribution.overview['data']['new'] }}
                    </div>
                    <div class="text-secondary mt-1 text-center">Số lượng của gói cao nhất</div>
                  </div>
                  <div class="flex flex-col items-center justify-center p-6 sm:p-8">
                    <div class="text-5xl font-semibold leading-none tracking-tighter">
                      {{ data.taskDistribution.overview['data']['completed'] }}
                    </div>
                    <div class="text-secondary mt-1 text-center">Số lượng của gói thấp nhất</div>
                  </div>
                </div>
              </div>
              <!-- Schedule -->
              <div class="bg-card flex flex-auto flex-col overflow-hidden rounded-2xl p-6 shadow sm:col-span-2 md:col-span-4 lg:col-span-2">
                <div class="flex flex-col items-start justify-between sm:flex-row">
                  <div class="truncate text-lg font-medium leading-6 tracking-tight">Lịch sử thanh toán</div>
                  <div class="mt-3 sm:ml-2 sm:mt-0">
                    <mat-button-toggle-group value="today" #scheduleDaySelector="matButtonToggleGroup">
                      <mat-button-toggle value="today">Total</mat-button-toggle>
                    </mat-button-toggle-group>
                  </div>
                </div>
                <div class="mt-2 flex flex-col divide-y">
                  @for (scheduleItem of data.schedule[scheduleDaySelector.value]; track trackByFn($index, scheduleItem)) {
                    <div class="flex flex-row items-center justify-between px-0.5 py-4">
                      <div class="flex flex-col">
                        <div class="font-medium">
                          {{ scheduleItem.title }}
                        </div>
                        <div class="-ml-0.5 mt-2 flex flex-col space-y-1 sm:mt-1 sm:flex-row sm:items-center sm:space-x-3 sm:space-y-0">
                          @if (scheduleItem.time) {
                            <div class="flex items-center">
                              <mat-icon class="text-hint icon-size-5" [svgIcon]="'heroicons_solid:clock'"></mat-icon>
                              <div class="text-secondary text-md ml-1.5">
                                {{ scheduleItem.time }}
                              </div>
                            </div>
                          }
                          @if (scheduleItem.location) {
                            <div class="flex items-center">
                              <mat-icon class="text-hint icon-size-5" [svgIcon]="'heroicons_solid:map-pin'"></mat-icon>
                              <div class="text-secondary text-md ml-1.5">
                                {{ scheduleItem.location }}
                              </div>
                            </div>
                          }
                        </div>
                      </div>
                    </div>
                  }
                </div>
              </div>
            </div>
          </ng-template>
        </mat-tab>
      </mat-tab-group>
    </div>
  </div>
</div>
