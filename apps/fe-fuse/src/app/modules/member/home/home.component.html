<div class="flex min-w-0 flex-auto flex-col bg-white p-6">
  <!-- Header -->
  <section class="mb-12 flex w-full flex-col bg-transparent">
    <!-- Time-sensitive Welcome Section -->
    <div class="relative h-64 w-full overflow-hidden rounded-3xl shadow-lg">
      <!-- Dynamic Time-Based Backgrounds -->
      <!-- Morning Background -->
      <div
        class="absolute inset-0 bg-gradient-to-b from-blue-200 via-blue-100 to-pink-50 transition-opacity duration-1000"
        [ngClass]="{ 'opacity-100': getTimeOfDay() === 'morning', 'opacity-0': getTimeOfDay() !== 'morning' }"
      >
        <!-- Morning Sun -->
        <div class="animate-pulse-slow absolute right-10 top-6 h-20 w-20 rounded-full bg-yellow-200 shadow-lg shadow-yellow-300/50"></div>
        <!-- Morning Clouds -->
        <div class="animate-float-slow absolute left-10 top-12 h-10 w-24 opacity-80">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
            <path
              d="M6.5 20C4.01 20 2 17.99 2 15.5c0-2.27 1.7-4.14 3.9-4.43c.98-1.66 2.77-2.57 4.6-2.57c2.4 0 4.4 1.5 5.1 3.7c1.9.3 3.4 1.9 3.4 3.8c0 2.21-1.79 4-4 4H6.5z"
            />
          </svg>
        </div>
        <div class="animate-float-slow-delayed absolute right-20 top-20 h-6 w-16 opacity-70">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
            <path
              d="M6.5 20C4.01 20 2 17.99 2 15.5c0-2.27 1.7-4.14 3.9-4.43c.98-1.66 2.77-2.57 4.6-2.57c2.4 0 4.4 1.5 5.1 3.7c1.9.3 3.4 1.9 3.4 3.8c0 2.21-1.79 4-4 4H6.5z"
            />
          </svg>
        </div>
      </div>

      <!-- Afternoon Background -->
      <div
        class="absolute inset-0 bg-gradient-to-b from-blue-100 via-yellow-50 to-orange-50 transition-opacity duration-1000"
        [ngClass]="{ 'opacity-100': getTimeOfDay() === 'afternoon', 'opacity-0': getTimeOfDay() !== 'afternoon' }"
      >
        <!-- Afternoon Sun -->
        <div class="absolute right-16 top-10 h-16 w-16 rounded-full bg-yellow-300 shadow-lg shadow-yellow-400/30"></div>
        <!-- Afternoon Clouds -->
        <div class="animate-float-med absolute left-16 top-8 h-8 w-20 opacity-80">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
            <path
              d="M6.5 20C4.01 20 2 17.99 2 15.5c0-2.27 1.7-4.14 3.9-4.43c.98-1.66 2.77-2.57 4.6-2.57c2.4 0 4.4 1.5 5.1 3.7c1.9.3 3.4 1.9 3.4 3.8c0 2.21-1.79 4-4 4H6.5z"
            />
          </svg>
        </div>
      </div>

      <!-- Evening Background -->
      <div
        class="absolute inset-0 bg-gradient-to-b from-indigo-200 via-purple-100 to-pink-200 transition-opacity duration-1000"
        [ngClass]="{ 'opacity-100': getTimeOfDay() === 'evening', 'opacity-0': getTimeOfDay() !== 'evening' }"
      >
        <!-- Evening Moon -->
        <div class="absolute right-12 top-8 h-14 w-14 rounded-full bg-white shadow-lg shadow-white/40"></div>
        <!-- Evening Stars -->
        <div class="animate-twinkle absolute left-24 top-14 h-2 w-2 rounded-full bg-white"></div>
        <div class="animate-twinkle-delay absolute left-40 top-10 h-1 w-1 rounded-full bg-white"></div>
        <div class="animate-twinkle absolute right-40 top-20 h-1.5 w-1.5 rounded-full bg-white"></div>
      </div>

      <!-- Night Background -->
      <div
        class="absolute inset-0 bg-gradient-to-b from-indigo-900 via-purple-800 to-indigo-800 transition-opacity duration-1000"
        [ngClass]="{ 'opacity-100': getTimeOfDay() === 'night', 'opacity-0': getTimeOfDay() !== 'night' }"
      >
        <!-- Night Moon -->
        <div class="absolute right-16 top-8 h-12 w-12 rounded-full bg-gray-100 shadow-lg shadow-white/20"></div>
        <!-- Night Stars -->
        <div class="animate-twinkle absolute left-14 top-10 h-1.5 w-1.5 rounded-full bg-white"></div>
        <div class="animate-twinkle-delay absolute left-28 top-16 h-2 w-2 rounded-full bg-white"></div>
        <div class="animate-twinkle-delay absolute right-36 top-8 h-1 w-1 rounded-full bg-white"></div>
        <div class="animate-twinkle absolute right-20 top-24 h-1.5 w-1.5 rounded-full bg-white"></div>
        <div class="animate-twinkle absolute left-40 top-20 h-1 w-1 rounded-full bg-white"></div>
      </div>

      <!-- Content Container -->
      <div class="relative z-10 flex w-full px-6 py-8 sm:px-8">
        <div class="my-4 flex min-w-0 flex-auto flex-col sm:my-6 sm:flex-row sm:items-center">
          <!-- Left Side: Avatar and Greeting -->
          <div class="flex min-w-0 flex-auto items-center">
            <div class="flex-0 animate-fade-in h-20 w-20 overflow-hidden rounded-full border-4 border-white/30 shadow-lg">
              <img class="h-full w-full object-cover" src="images/avatars/brian-hughes.jpg" alt="Profile" />
            </div>

            <div class="animate-slide-up ml-4 flex min-w-0 flex-col">
              <div class="flex flex-col items-start">
                <!-- Time-based greeting message -->
                <h2 class="text-2xl font-bold text-white drop-shadow-md">
                  {{ getGreetingMessage() }}
                </h2>
                <h1 class="font-playful text-3xl tracking-wide text-white drop-shadow-md">
                  {{ user.name }}! <span class="ml-2">{{ getTimeEmoji() }}</span>
                </h1>
              </div>

              <!-- Time-based message -->
              <p class="mt-3 max-w-md text-lg text-white/90 drop-shadow-sm">
                {{ getTimeMessage() }}
              </p>

              <!-- Notifications -->
              <div class="mt-5 flex items-center rounded-full bg-white/20 px-4 py-2 backdrop-blur-sm">
                <mat-icon class="icon-size-5 text-white/90" [svgIcon]="'heroicons_solid:bell'"></mat-icon>
                <div class="ml-2 truncate text-sm font-medium text-white/90">Bạn có 2 tin nhắn mới và 15 nhiệm vụ mới</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Visit record Button - Enhanced Maternal Version -->
    <a
      [routerLink]="'/record'"
      class="maternal-checkup-btn group relative z-10 -mt-10 mb-4 flex w-full max-w-md cursor-pointer items-center justify-center self-center overflow-hidden rounded-full bg-gradient-to-r from-pink-400/90 via-purple-300/90 to-pink-400/90 px-6 py-4 text-center text-white shadow-lg transition-all duration-300 hover:bg-gradient-to-r hover:from-pink-500/90 hover:via-purple-400/90 hover:to-pink-500/90 hover:shadow-xl sm:mb-6"
    >
      <!-- Icon changes based on time of day -->
      <div class="mr-3 flex h-10 w-10 items-center justify-center rounded-full bg-white/25 backdrop-blur-sm">
        <svg
          *ngIf="getTimeOfDay() === 'morning'"
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 text-white"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
          />
        </svg>
        <svg
          *ngIf="getTimeOfDay() === 'afternoon'"
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 text-white"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
          />
        </svg>
        <svg
          *ngIf="getTimeOfDay() === 'evening' || getTimeOfDay() === 'night'"
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 text-white"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
          />
        </svg>
      </div>

      <!-- Text changes based on whether a checkup has been recorded today -->
      <div class="text-2xl font-medium">
        <span class="flex items-center">
          <span class="block font-bold">Ghi lại ngày khám hôm nay</span>
        </span>
      </div>
    </a>
  </section>

  <!-- Noti & Blog-->
  <section class="mb-8 grid w-full min-w-0 grid-cols-1 gap-8 sm:grid-cols-2 md:grid-cols-4">
    <!-- Nhắc nhở-->
    <div
      class="bg-card flex flex-auto flex-col overflow-hidden rounded-2xl border border-pink-100 bg-white/90 p-6 shadow-lg backdrop-blur-sm sm:col-span-2 md:col-span-4 lg:col-span-2"
    >
      <app-home-reminder></app-home-reminder>
    </div>
    <!-- Recommend Blog -->
    <div
      class="bg-card flex flex-auto flex-col overflow-hidden rounded-2xl border border-pink-100 bg-white/90 p-6 shadow-lg backdrop-blur-sm sm:col-span-2 md:col-span-4 lg:col-span-2"
    >
      <app-recommended-blogs></app-recommended-blogs>
    </div>
  </section>

  <!-- Tool for Pregnancy-->
  <!--  <app-week-pregnancy-slider></app-week-pregnancy-slider>-->
  <section>
    <!-- Popular Tools Section -->
    <div class="popular-tools mb-12">
      <h2 class="mb-6 text-center text-2xl font-bold text-gray-800 md:text-3xl">
        <span class="relative">
          Công Cụ Phổ Biến
          <span class="absolute -bottom-1 left-0 h-1 w-full rounded-full bg-gradient-to-r from-pink-300 to-purple-300 opacity-70"></span>
        </span>
      </h2>

      <div class="mt-8 grid grid-cols-1 gap-6 sm:grid-cols-2 lg:grid-cols-4">
        <!-- Baby Names Finder Tool -->
        <div
          class="group relative rounded-xl bg-gradient-to-b from-pink-50 to-white p-1 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-md"
        >
          <div class="flex h-full flex-col rounded-lg p-6">
            <!-- Tool Icon -->
            <div
              class="mb-4 flex h-16 w-16 items-center justify-center self-center rounded-full bg-gradient-to-br from-pink-400 to-pink-600 p-3 shadow-md transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                />
              </svg>
            </div>

            <!-- Tool Title -->
            <h3 class="mb-3 text-center text-xl font-bold text-gray-800">Tìm Tên Em Bé</h3>

            <!-- Tool Description -->
            <p class="mb-4 text-center text-gray-600">Khám phá hàng nghìn tên cho bé gái và bé trai với ý nghĩa đặc biệt và nguồn gốc.</p>

            <!-- Tool Button -->
            <a
              href="#"
              class="group/btn mt-auto flex items-center justify-center rounded-full bg-pink-100 py-2 text-sm font-medium text-pink-600 transition-all hover:bg-pink-200"
            >
              Khám phá ngay
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="ml-1 h-4 w-4 transition-transform duration-300 group-hover/btn:translate-x-1"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </a>
          </div>
        </div>

        <!-- Due Date Calculator Tool -->
        <div
          class="group relative rounded-xl bg-gradient-to-b from-purple-50 to-white p-1 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-md"
        >
          <div class="flex h-full flex-col rounded-lg p-6">
            <!-- Tool Icon -->
            <div
              class="mb-4 flex h-16 w-16 items-center justify-center self-center rounded-full bg-gradient-to-br from-purple-400 to-purple-600 p-3 shadow-md transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                />
              </svg>
            </div>

            <!-- Tool Title -->
            <h3 class="mb-3 text-center text-xl font-bold text-gray-800">Tính Ngày Dự Sinh</h3>

            <!-- Tool Description -->
            <p class="mb-4 text-center text-gray-600">Dự đoán ngày sinh của em bé và tìm hiểu các cột mốc quan trọng trong thai kỳ của bạn.</p>

            <!-- Tool Button -->
            <a
              href="#"
              class="group/btn mt-auto flex items-center justify-center rounded-full bg-purple-100 py-2 text-sm font-medium text-purple-600 transition-all hover:bg-purple-200"
            >
              Tính ngay
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="ml-1 h-4 w-4 transition-transform duration-300 group-hover/btn:translate-x-1"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </a>
          </div>

          <!-- Decorative element -->
          <div class="absolute -right-2 -top-2 h-12 w-12 opacity-10">
            <img src="/images/ui/doodles/d9.svg" alt="Calendar decoration" />
          </div>
        </div>

        <!-- Pregnancy Evolution Tool -->
        <div
          class="group relative rounded-xl bg-gradient-to-b from-blue-50 to-white p-1 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-md"
        >
          <div class="flex h-full flex-col rounded-lg p-6">
            <!-- Tool Icon -->
            <div
              class="mb-4 flex h-16 w-16 items-center justify-center self-center rounded-full bg-gradient-to-br from-blue-400 to-blue-600 p-3 shadow-md transition-all duration-300 group-hover:scale-110 group-hover:shadow-lg"
            >
              <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path
                  stroke-linecap="round"
                  stroke-linejoin="round"
                  stroke-width="2"
                  d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
                />
              </svg>
            </div>

            <!-- Tool Title -->
            <h3 class="mb-3 text-center text-xl font-bold text-gray-800">Quá Trình Phát Triển</h3>

            <!-- Tool Description -->
            <p class="mb-4 text-center text-gray-600">Theo dõi sự phát triển của em bé qua từng tuần với hình ảnh và thông tin chi tiết.</p>

            <!-- Tool Button -->
            <a
              href="#"
              class="group/btn mt-auto flex items-center justify-center rounded-full bg-blue-100 py-2 text-sm font-medium text-blue-600 transition-all hover:bg-blue-200"
            >
              Xem chi tiết
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="ml-1 h-4 w-4 transition-transform duration-300 group-hover/btn:translate-x-1"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </a>
          </div>
        </div>

        <!-- Right Side: Countdown Calendar (keep existing calendar) -->
        <div
          class="bg-card relative mt-4 flex flex-auto flex-col rounded-2xl bg-white/80 backdrop-blur-sm"
          style="
            box-shadow:
              0 1px 1px rgba(0, 0, 0, 0.15),
              0 10px 0 -5px #eee,
              0 10px 1px -4px rgba(0, 0, 0, 0.15),
              0 20px 0 -10px #eee,
              0 20px 1px -9px rgba(0, 0, 0, 0.15);
          "
        >
          <div class="flex h-full flex-col">
            <div class="h-1/3 w-full self-start rounded-t-2xl bg-pink-500 pt-10">
              <div class="mt-1 text-center text-4xl font-extrabold leading-tight tracking-tight">
                <div class="tracking-widest text-pink-100">
                  <i>Đếm ngược kỳ diệu</i>
                </div>
              </div>
            </div>
            <div class="flex h-2/3 w-full items-center justify-center">
              <div class="flex flex-col items-center">
                <div class="text-7xl font-bold leading-none tracking-tight text-red-500 sm:text-8xl">
                  {{ remainingDays() < 1 ? 0 : remainingDays() }}
                </div>
                <div class="text-xl font-medium text-red-600 dark:text-red-500">Ngày Còn Lại</div>
              </div>
            </div>
          </div>

          <div class="z-90 absolute -top-2 right-0 flex w-full justify-around">
            <div class="h-8 w-4 rounded-full bg-pink-950"></div>
            <div class="h-8 w-4 rounded-full bg-pink-950"></div>
          </div>
          <div class="absolute right-0 top-2 z-10 flex w-full justify-around">
            <div class="h-6 w-6 rounded-full bg-pink-200"></div>
            <div class="h-6 w-6 rounded-full bg-pink-200"></div>
          </div>
        </div>
      </div>
    </div>
  </section>
</div>
