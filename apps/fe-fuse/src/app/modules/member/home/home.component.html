<div class="flex min-w-0 flex-auto flex-col bg-white p-6">
  <!-- Header -->
  <section class="mb-1 flex w-full flex-col bg-transparent">
    <!-- Time-sensitive Welcome Section -->
    <div class="relative h-64 w-full overflow-hidden rounded-3xl shadow-lg">
      Dynamic Time-Based Backagrounds
      <!-- Morning Background -->
      <div
        class="absolute inset-0 bg-gradient-to-b from-blue-200 via-blue-100 to-pink-50 transition-opacity duration-1000"
        [ngClass]="{ 'opacity-100': getTimeOfDay() === 'morning', 'opacity-0': getTimeOfDay() !== 'morning' }"
      >
        <!-- Morning Sun -->
        <div class="animate-pulse-slow absolute right-10 top-6 h-20 w-20 rounded-full bg-yellow-200 shadow-lg shadow-yellow-300/50"></div>
        <!-- Morning Clouds -->
        <div class="animate-float-slow absolute left-10 top-12 h-10 w-24 opacity-80">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
            <path
              d="M6.5 20C4.01 20 2 17.99 2 15.5c0-2.27 1.7-4.14 3.9-4.43c.98-1.66 2.77-2.57 4.6-2.57c2.4 0 4.4 1.5 5.1 3.7c1.9.3 3.4 1.9 3.4 3.8c0 2.21-1.79 4-4 4H6.5z"
            />
          </svg>
        </div>
        <div class="animate-float-slow-delayed absolute right-20 top-20 h-6 w-16">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
            <path
              d="M6.5 20C4.01 20 2 17.99 2 15.5c0-2.27 1.7-4.14 3.9-4.43c.98-1.66 2.77-2.57 4.6-2.57c2.4 0 4.4 1.5 5.1 3.7c1.9.3 3.4 1.9 3.4 3.8c0 2.21-1.79 4-4 4H6.5z"
            />
          </svg>
        </div>
      </div>

      <!-- Afternoon Background -->
      <div
        class="via-yellow-250 to-orange-250 absolute inset-0 bg-gradient-to-b from-blue-300 transition-opacity duration-1000"
        [ngClass]="{ 'opacity-100': getTimeOfDay() === 'afternoon', 'opacity-0': getTimeOfDay() !== 'afternoon' }"
      >
        <!-- Afternoon Sun -->
        <div class="absolute right-16 top-10 h-16 w-16 rounded-full bg-yellow-300 shadow-lg shadow-yellow-400/30"></div>
        <!-- Afternoon Clouds -->
        <div class="animate-float-med absolute left-16 top-8 h-8 w-20 opacity-80">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="white">
            <path
              d="M6.5 20C4.01 20 2 17.99 2 15.5c0-2.27 1.7-4.14 3.9-4.43c.98-1.66 2.77-2.57 4.6-2.57c2.4 0 4.4 1.5 5.1 3.7c1.9.3 3.4 1.9 3.4 3.8c0 2.21-1.79 4-4 4H6.5z"
            />
          </svg>
        </div>
      </div>

      <!-- Evening Background -->
      <div
        class="absolute inset-0 bg-gradient-to-b from-indigo-200 via-purple-100 to-pink-200 transition-opacity duration-1000"
        [ngClass]="{ 'opacity-100': getTimeOfDay() === 'evening', 'opacity-0': getTimeOfDay() !== 'evening' }"
      >
        <!-- Evening Moon -->
        <div class="absolute right-12 top-8 h-14 w-14 rounded-full bg-white shadow-lg shadow-white/40"></div>
        <!-- Evening Stars -->
        <div class="animate-twinkle absolute left-24 top-14 h-2 w-2 rounded-full bg-white"></div>
        <div class="animate-twinkle-delay absolute left-40 top-10 h-1 w-1 rounded-full bg-white"></div>
        <div class="animate-twinkle absolute right-40 top-20 h-1.5 w-1.5 rounded-full bg-white"></div>
      </div>

      <!-- Night Background -->
      <div
        class="absolute inset-0 bg-gradient-to-b from-indigo-900 via-purple-800 to-indigo-800 transition-opacity duration-1000"
        [ngClass]="{ 'opacity-100': getTimeOfDay() === 'night', 'opacity-0': getTimeOfDay() !== 'night' }"
      >
        <!-- Night Moon -->
        <div class="absolute right-16 top-8 h-12 w-12 rounded-full bg-gray-100 shadow-lg shadow-white/20"></div>
        <!-- Night Stars -->
        <div class="animate-twinkle absolute left-14 top-10 h-1.5 w-1.5 rounded-full bg-white"></div>
        <div class="animate-twinkle-delay absolute left-28 top-16 h-2 w-2 rounded-full bg-white"></div>
        <div class="animate-twinkle-delay absolute right-36 top-8 h-1 w-1 rounded-full bg-white"></div>
        <div class="animate-twinkle absolute right-20 top-24 h-1.5 w-1.5 rounded-full bg-white"></div>
        <div class="animate-twinkle absolute left-40 top-20 h-1 w-1 rounded-full bg-white"></div>
      </div>

      <!-- Content Container -->
      <div class="relative z-10 flex w-full px-6 py-8 sm:px-8">
        <div class="my-4 flex min-w-0 flex-auto flex-col sm:my-6 sm:flex-row sm:items-center">
          <!-- Left Side: Avatar and Greeting -->
          <div class="flex min-w-0 flex-auto items-center">
            <div class="flex-0 animate-fade-in h-20 w-20 overflow-hidden rounded-full border-4 border-white/30 shadow-lg">
              <img class="h-full w-full object-cover" src="images/avatars/female-18.jpg" alt="Profile" />
            </div>

            <div class="animate-slide-up ml-4 flex min-w-0 flex-col">
              <div class="flex flex-col items-start">
                <!-- Time-based greeting message -->
                <h2 class="text-2xl font-bold text-white drop-shadow-md">
                  {{ getGreetingMessage() }}
                </h2>
                <h1 class="font-playful text-3xl tracking-wide text-white drop-shadow-md">
                  {{ user.name }}! <span class="ml-2">{{ getTimeEmoji() }}</span>
                </h1>
              </div>

              <!-- Time-based message -->
              <p class="text-pink-450 mt-3 max-w-md text-lg drop-shadow-sm">
                {{ getTimeMessage() }}
              </p>

              <!-- Notifications -->
              <div class="mt-5 flex items-center rounded-full bg-pink-400 px-4 py-2 backdrop-blur-sm">
                <mat-icon class="icon-size-5 text-white/90" [svgIcon]="'heroicons_solid:bell'"></mat-icon>
                <div class="ml-2 truncate text-sm font-medium text-white">Bạn có 2 tin nhắn mới và 15 nhiệm vụ mới</div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Visit record Button - Enhanced Maternal Version -->
    <a
      (click)="createRecord()"
      class="maternal-checkup-btn group relative z-10 -mt-10 mb-4 flex w-full max-w-md cursor-pointer items-center justify-center self-center overflow-hidden rounded-full bg-gradient-to-r from-pink-400/90 via-purple-300/90 to-pink-400/90 px-6 py-4 text-center text-white shadow-lg transition-all duration-300 hover:bg-gradient-to-r hover:from-pink-500/90 hover:via-purple-400/90 hover:to-pink-500/90 hover:shadow-xl sm:mb-6"
    >
      <!-- Icon changes based on time of day -->
      <div class="mr-3 flex h-10 w-10 items-center justify-center rounded-full bg-white/25 backdrop-blur-sm">
        @if (getTimeOfDay() === 'morning') {
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z"
            />
          </svg>
        } @else if (getTimeOfDay() === 'afternoon') {
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
            />
          </svg>
        } @else if (getTimeOfDay() === 'evening' || getTimeOfDay() === 'night') {
          <svg xmlns="http://www.w3.org/2000/svg" class="h-6 w-6 text-white" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="2"
              d="M4.318 6.318a4.5 4.5 0 000 6.364L12 20.364l7.682-7.682a4.5 4.5 0 00-6.364-6.364L12 7.636l-1.318-1.318a4.5 4.5 0 00-6.364 0z"
            />
          </svg>
        }
      </div>

      <!-- Text changes based on whether a checkup has been recorded today -->
      <div class="text-2xl font-medium">
        <span class="flex items-center">
          <span class="block font-bold">Ghi lại ngày khám hôm nay</span>
        </span>
      </div>
    </a>
  </section>

  <!-- Noti & Blog & Mini Chart-->
  <section class="mb-8 grid w-full min-w-0 grid-cols-1 gap-8 sm:grid-cols-1 md:grid-cols-3">
    <!-- Nhắc nhở-->
    <div
      class="bg-card col-span-3 flex flex-auto flex-col overflow-hidden rounded-2xl border border-pink-100 bg-white/90 p-2 shadow-lg backdrop-blur-sm lg:col-span-1"
    >
      <app-home-reminder></app-home-reminder>
    </div>
    <!--        &lt;!&ndash; Mini Tracking Chart &ndash;&gt;-->
    <!--        <div-->
    <!--          class="bg-card col-span-3 flex flex-auto flex-col overflow-hidden rounded-2xl border border-pink-100 bg-white/90 p-6 shadow-lg backdrop-blur-sm lg:col-span-1"-->
    <!--        ></div>-->
    <!--        &lt;!&ndash; Recommend Blog &ndash;&gt;-->
    <!--        <div-->
    <!--          class="bg-card col-span-3 flex flex-auto flex-col overflow-hidden rounded-2xl border border-pink-100 bg-white/90 p-6 shadow-lg backdrop-blur-sm lg:col-span-1"-->
    <!--        >-->
    <!--          <app-recommended-blogs></app-recommended-blogs>-->
    <!--        </div>-->
    <div
      class="bg-card col-span-2 flex flex-auto flex-col overflow-hidden rounded-2xl border border-pink-100 bg-white/90 p-6 shadow-lg backdrop-blur-sm"
    >
      <app-week-pregnancy-slider></app-week-pregnancy-slider>
    </div>
  </section>

  <!-- Popular Tools Section -->
  <section class="flex flex-row justify-around">
    <div class="rounded-3xl bg-gradient-to-br from-blue-50 via-purple-50/30 to-pink-50/30 p-6 shadow-lg">
      <div class="flex flex-col gap-8 lg:flex-row">
        <!-- Left Section: Title & Description -->
        <div class="flex flex-col items-start justify-center space-y-6 lg:w-1/4">
          <div>
            <h2 class="mb-2 bg-gradient-to-r from-pink-500 to-purple-500 bg-clip-text text-3xl font-bold text-transparent md:text-4xl">
              Công cụ đặc biệt dành riêng cho mẹ bầu!
            </h2>
            <p class="text-lg text-gray-600">Hành trình mang thai trở nên dễ dàng hơn với các công cụ hỗ trợ thông minh. Khám phá ngay!</p>
          </div>
        </div>

        <!-- Right Section: Tool Cards -->
        <div class="grid flex-1 grid-cols-1 gap-6 sm:grid-cols-3">
          <!-- Baby Names Finder Tool -->
          <div
            (click)="openFirstTool()"
            class="maternal-tool-card group relative overflow-hidden rounded-xl border border-green-100 bg-white p-5 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-lg"
          >
            <div class="absolute -right-12 -top-12 h-24 w-24 rounded-full bg-green-50 opacity-40"></div>
            <div class="absolute -bottom-6 -left-6 h-20 w-20 rounded-full bg-green-50 opacity-30"></div>

            <!-- Tool Icon -->
            <img
              src="/images/ui/tool/Tool2.svg"
              alt="Baby Names Finder"
              class="mb-6 h-16 w-16 transition-all duration-300 group-hover:rotate-6 group-hover:scale-110"
            />

            <!-- Tool Title -->
            <h3 class="mb-2 text-xl font-bold text-gray-800">Tìm Tên Em Bé</h3>

            <!-- Tool Description -->
            <p class="mb-6 text-gray-600">Khám phá hàng nghìn tên cho bé gái và bé trai với ý nghĩa đặc biệt và nguồn gốc.</p>

            <!-- Tool Button -->
            <div
              class="group/btn mt-auto inline-flex items-center rounded-full bg-green-100 px-5 py-2 text-sm font-medium text-green-600 transition-all hover:bg-green-200 active:scale-95"
            >
              Khám phá ngay
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="ml-1 h-4 w-4 transition-transform duration-300 group-hover/btn:translate-x-1"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </div>
          </div>

          <!-- Due Date Calculator Tool -->
          <div
            (click)="openSecondTool()"
            class="maternal-tool-card group relative overflow-hidden rounded-xl border border-orange-100 bg-white p-5 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-lg"
          >
            <div class="absolute -right-12 -top-12 h-24 w-24 rounded-full bg-orange-50 opacity-40"></div>
            <div class="absolute -bottom-6 -left-6 h-20 w-20 rounded-full bg-orange-50 opacity-30"></div>

            <!-- Tool Icon -->
            <img
              src="/images/ui/tool/Tool3.svg"
              alt="Due Date Calculator"
              class="mb-6 h-16 w-16 transition-all duration-300 group-hover:rotate-6 group-hover:scale-110"
            />

            <!-- Tool Title -->
            <h3 class="mb-2 text-xl font-bold text-gray-800">Tính Ngày Dự Sinh</h3>

            <!-- Tool Description -->
            <p class="mb-6 text-gray-600">Dự đoán ngày sinh của em bé và tìm hiểu các cột mốc quan trọng trong thai kỳ của bạn.</p>

            <!-- Tool Button -->
            <div
              class="group/btn mt-auto inline-flex items-center rounded-full bg-orange-100 px-5 py-2 text-sm font-medium text-orange-600 transition-all hover:bg-orange-200 active:scale-95"
            >
              Tính ngay
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="ml-1 h-4 w-4 transition-transform duration-300 group-hover/btn:translate-x-1"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </div>
          </div>

          <!-- Pregnancy Evolution Tool -->
          <div
            (click)="openThirdTool()"
            class="maternal-tool-card group relative overflow-hidden rounded-xl border border-pink-100 bg-white p-5 shadow-sm transition-all duration-300 hover:-translate-y-1 hover:shadow-lg"
          >
            <div class="absolute -right-12 -top-12 h-24 w-24 rounded-full bg-pink-50 opacity-40"></div>
            <div class="absolute -bottom-6 -left-6 h-20 w-20 rounded-full bg-pink-50 opacity-30"></div>

            <!-- Tool Icon -->
            <img
              src="/images/ui/tool/Tool1.svg"
              alt="Pregnancy Evolution"
              class="mb-6 h-16 w-16 transition-all duration-300 group-hover:rotate-6 group-hover:scale-110"
            />

            <!-- Tool Title -->
            <h3 class="mb-2 text-xl font-bold text-gray-800">Quá Trình Phát Triển</h3>

            <!-- Tool Description -->
            <p class="mb-6 text-gray-600">Theo dõi sự phát triển của em bé qua từng tuần với hình ảnh và thông tin chi tiết.</p>

            <!-- Tool Button -->
            <div
              class="group/btn mt-auto inline-flex items-center rounded-full bg-pink-100 px-5 py-2 text-sm font-medium text-pink-600 transition-all hover:bg-pink-200 active:scale-95"
            >
              Xem chi tiết
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="ml-1 h-4 w-4 transition-transform duration-300 group-hover/btn:translate-x-1"
                fill="none"
                viewBox="0 0 24 24"
                stroke="currentColor"
              >
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>
    <!-- Pregnancy Countdown Calendar -->
    <div
      class="calendar-countdown relative w-full max-w-xs transform rounded-2xl bg-white shadow-lg transition-all duration-500 hover:scale-105 hover:shadow-xl"
      [ngClass]="{ 'animate-celebration': remainingDays() <= 0 }"
      style="background-image: linear-gradient(#ffffff 1.1rem, #ccc 1.2rem); background-size: 100% 1.2rem"
    >
      <!-- Calendar Top Part with Hanging Rings -->
      <div class="calendar-top rounded-t-2xl bg-gradient-to-r from-pink-400 to-pink-500 pb-2 pt-4 shadow-lg">
        <!-- Calendar Rings -->
        <div class="absolute left-0 top-0 z-50 flex w-full justify-around">
          <div class="calendar-ring-outer -mt-2 h-8 w-5 rounded-full bg-gradient-to-r from-pink-800 via-pink-950 to-pink-800 shadow-lg"></div>
          <div class="calendar-ring-outer -mt-2 h-8 w-5 rounded-full bg-gradient-to-r from-pink-800 via-pink-950 to-pink-800 shadow-lg"></div>
        </div>
        <div class="absolute left-0 top-0 z-20 flex w-full justify-around">
          <div
            class="calendar-ring-inner mt-1 h-6 w-6 rounded-full border-2 border-solid border-pink-500 shadow-inner"
            style="background-image: radial-gradient(#0a0a0a, #be5985, #ec7fa9, #ffb8e0, #ffedfa)"
          ></div>
          <div
            class="calendar-ring-inner mt-1 h-6 w-6 rounded-full border-2 border-solid border-pink-500 shadow-inner"
            style="background-image: radial-gradient(#0a0a0a, #be5985, #ec7fa9, #ffb8e0, #ffedfa)"
          ></div>
        </div>

        <!-- Calendar Title -->
        <div class="mt-3 text-center">
          <h2 class="font-playful text-3xl font-bold italic tracking-wide text-white drop-shadow-md">Đếm ngược kỳ diệu</h2>
          <!-- Decorative accents -->
          <div class="mx-auto mt-1 h-1 w-24 rounded-full bg-white/30"></div>
        </div>
      </div>

      <!-- Calendar Bottom Part with Days Count -->
      <div class="calendar-bottom relative rounded-b-2xl px-4 pt-2">
        <!-- Days Counter -->
        <div class="relative z-10">
          @if (remainingDays() <= 0) {
            <div class="animation-scale-in text-center">
              <div class="text-2xl font-bold text-pink-500">Chúc mừng mẹ bầu!</div>
              <div class="mt-2 text-lg font-medium text-pink-400">Bé yêu đã chào đời</div>
              <!--            <div class="mt-4">-->
              <!--                                <lottie-player-->
              <!--                                  src="https://assets10.lottiefiles.com/packages/lf20_ky24lmgu.json"-->
              <!--                                  background="transparent"-->
              <!--                                  speed="1"-->
              <!--                                  style="width: 150px; height: 150px; margin: 0 auto"-->
              <!--                                  loop-->
              <!--                                  autoplay-->
              <!--                                >-->
              <!--                                </lottie-player>-->
              <!--            </div>-->
            </div>
          } @else {
            <div class="text-center">
              <div class="calendar-days-number text-center text-6xl font-black tracking-tighter text-pink-600 sm:text-7xl">
                {{ remainingDays() }}
              </div>
              <div class="calendar-days-text mt-1 text-center text-lg font-medium text-pink-400">Ngày Còn Lại</div>

              <!-- Week indicator -->
              <div class="mt-4 inline-block rounded-full bg-pink-100 px-4 py-1 text-sm font-medium text-pink-600">
                Tuần thứ {{ currentPregnancyWeek }}
              </div>
            </div>
          }
          <!-- Calendar page curl effect -->
          <div class="absolute bottom-0 right-0 h-12 w-12 rounded-tl-lg bg-gradient-to-br from-transparent to-gray-200/50 shadow-inner"></div>
        </div>
      </div>
    </div>
  </section>

  <!--  <div *ngIf="recommendedBlogs && recommendedBlogs.length > 0" class="relative h-[500px] w-full overflow-hidden rounded-[calc(2rem-4px)]">-->
  <!-- Maternal Blog Carousel -->
  <div
    class="relative mb-8 mt-3 overflow-hidden rounded-[2rem] border-2 border-pink-100 bg-gradient-to-r from-pink-50/30 to-purple-50/30 p-1 shadow-lg"
  >
    <div class="relative h-[500px] w-full overflow-hidden rounded-[calc(2rem-4px)]">
      <!-- Carousel slides with Angular ngForOf and ngClass -->
      <div
        *ngFor="let item of blogs; let i = index"
        [ngClass]="{ 'pointer-events-none opacity-0': currentIndex !== i, 'opacity-100': currentIndex === i }"
        class="absolute inset-0 h-full w-full transition-all duration-700"
        [ngStyle]="{ 'z-index': currentIndex === i ? 20 : 10 }"
      >
        <!-- Image with maternal-friendly overlay gradient -->
        <img
          [src]="item.blog_cover"
          [alt]="item.title"
          class="h-full w-full scale-[1.02] object-cover object-center blur-[2px] transition-transform duration-700"
          (error)="handleImageError($event)"
        />

        <!-- Semi-transparent backdrop for better readability -->
        <div class="absolute inset-0 bg-gradient-to-t from-pink-900/80 via-purple-800/60 to-transparent"></div>

        <!-- Content container with improved layout -->
        <div class="absolute inset-x-0 bottom-0 z-30 px-20 pb-12 pt-24">
          <!-- "New" badge with maternal styling -->
          <div
            class="mb-4 inline-flex items-center justify-center gap-2 self-start rounded-full bg-gradient-to-r from-pink-400 to-purple-400 px-5 py-1.5 shadow-lg"
            [ngStyle]="{ 'font-family': 'var(--font-playful)' }"
          >
            <span class="text-sm font-semibold tracking-wide text-white">{{ item.category.title }}</span>
          </div>

          <!-- Title with maternal font and styling -->
          <h1
            class="mb-3 max-w-3xl text-4xl font-bold leading-tight text-white drop-shadow-md md:text-5xl"
            [ngStyle]="{ 'font-family': 'var(--font-playful)' }"
          >
            {{ item.title }}
          </h1>

          <!-- Summary with better readability -->
          <p class="mb-6 max-w-2xl text-lg leading-relaxed text-pink-50 drop-shadow-md md:text-xl">
            {{ item.summary }}
          </p>

          <!-- Meta information with maternal-friendly icons -->
          <div class="flex flex-wrap items-center gap-6">
            <div class="flex items-center gap-2 text-sm text-pink-100">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-pink-200" viewBox="0 0 20 20" fill="currentColor">
                <path
                  fill-rule="evenodd"
                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
                  clip-rule="evenodd"
                />
              </svg>
              <span>{{ item.created_at | date: 'dd MMM, yyyy' }}</span>
            </div>

            <div class="flex items-center gap-2 text-sm text-pink-100">
              <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5 text-pink-200" viewBox="0 0 20 20" fill="currentColor">
                <path fill-rule="evenodd" d="M10 9a3 3 0 100-6 3 3 0 000 6zm-7 9a7 7 0 1114 0H3z" clip-rule="evenodd" />
              </svg>
              <span>{{ item.author }}</span>
            </div>

            <!-- Read more button -->
            <button
              class="group ml-auto flex items-center gap-2 rounded-full bg-white/20 px-5 py-2 backdrop-blur-sm transition-all duration-300 hover:bg-white hover:text-pink-600"
              [ngStyle]="{ 'font-family': 'var(--font-playful)' }"
              (click)="blog.click()"
            >
              <span class="text-sm font-medium text-white transition-colors group-hover:text-pink-600">Đọc tiếp</span>
              <a [routerLink]="['/blog', item.blog_id]" hidden #blog></a>
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="h-4 w-4 text-white transition-all group-hover:translate-x-1 group-hover:text-pink-600"
                viewBox="0 0 20 20"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z"
                  clip-rule="evenodd"
                />
              </svg>
            </button>
          </div>
        </div>
      </div>

      <!-- Navigation controls -->
      <div class="absolute inset-0 z-30 flex items-center justify-between px-4">
        <!-- Previous button with maternal styling -->
        <button
          (click)="prevSlide()"
          class="group rounded-full bg-white/20 p-3 backdrop-blur-sm transition-all duration-300 hover:bg-white/80 hover:text-pink-600 hover:shadow-lg focus:outline-none"
          aria-label="Previous slide"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 text-white transition-colors group-hover:text-pink-600"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
          </svg>
        </button>

        <!-- Next button with maternal styling -->
        <button
          (click)="nextSlide()"
          class="group rounded-full bg-white/20 p-3 backdrop-blur-sm transition-all duration-300 hover:bg-white/80 hover:text-pink-600 hover:shadow-lg focus:outline-none"
          aria-label="Next slide"
        >
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-6 w-6 text-white transition-colors group-hover:text-pink-600"
            fill="none"
            viewBox="0 0 24 24"
            stroke="currentColor"
          >
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7" />
          </svg>
        </button>
      </div>

      <!-- Fix the dot indicators to use recommendedBlogs instead of carouselItems -->
      <div class="absolute bottom-6 left-1/2 z-30 flex -translate-x-1/2 gap-3">
        <button
          *ngFor="let item of recommendedBlogs; let i = index"
          (click)="goToSlide(i)"
          [ngClass]="{
            'w-6 bg-white': currentIndex === i,
            'bg-white/50 hover:bg-white/70': currentIndex !== i,
          }"
          class="h-2 rounded-full transition-all duration-300 focus:outline-none"
          [attr.aria-label]="'Go to slide ' + (i + 1)"
        ></button>
      </div>
    </div>
  </div>
  <!--  </div>-->
  <!--  <div *ngIf="!recommendedBlogs || recommendedBlogs.length === 0" class="py-10 text-center text-gray-500">Không có bài viết nào để hiển thị</div>-->
</div>
