<div class="w-full p-2">
  <!-- Header with enhanced maternal styling -->
  <div class="mb-6 flex items-center justify-between">
    <div class="flex items-center">
      <div class="mr-3 rounded-full bg-gradient-to-r from-pink-400 to-pink-500 p-2.5 text-white shadow-md transition-all hover:scale-105">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-5 w-5" viewBox="0 0 20 20" fill="currentColor">
          <path
            fill-rule="evenodd"
            d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-12a1 1 0 10-2 0v4a1 1 0 00.293.707l2.828 2.829a1 1 0 101.415-1.415L11 9.586V6z"
            clip-rule="evenodd"
          />
        </svg>
      </div>
      <h2 class="bg-gradient-to-r from-pink-600 to-rose-500 bg-clip-text text-2xl font-bold text-transparent">Lịch nhắc nhở</h2>
    </div>
  </div>

  <div class="flex flex-col items-center justify-between space-y-6">
    <!-- Reminders List with improved maternal styling -->
    <div class="flex flex-grow flex-col space-y-6 overflow-y-auto rounded-lg bg-gradient-to-br from-white to-pink-50/20 px-4 py-2 shadow-inner">
      <!-- Today's Reminders -->
      <div *ngIf="todayReminders().length > 0" class="transform transition-all duration-300 hover:translate-y-[-2px]">
        <h3 class="mb-3 text-sm font-medium text-pink-600">Hôm nay</h3>
        <div class="space-y-3">
          <div
            *ngFor="let reminder of todayReminders(); let i = index"
            class="group relative flex items-center justify-between rounded-xl border-l-4 border-pink-500 bg-gradient-to-r from-pink-50/80 to-white p-4 shadow-sm transition-all hover:shadow-md hover:shadow-pink-200/20"
            [style]="'animation-delay: ' + i * 0.1 + 's'"
            style="animation: fadeInUp 0.5s ease-out both"
          >
            <div class="flex items-center space-x-4">
              <div class="shrink-0 rounded-full bg-pink-100 p-2.5 shadow-sm transition-all group-hover:bg-pink-200">
                <svg
                  *ngIf="reminder.type == ReminderType.USER_CREATED_REMINDER"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 text-pink-500"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                  />
                </svg>
                <svg
                  *ngIf="reminder.type == ReminderType.FOLLOW_UP_MEETING"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 text-pink-500"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                  />
                </svg>
              </div>
              <div>
                <h4 class="text-base font-medium text-gray-800 transition-colors group-hover:text-pink-700">{{ reminder.title }}</h4>
                <p class="text-sm text-gray-500 transition-colors group-hover:text-gray-600">{{ reminder.content }}</p>
              </div>
            </div>

            <!-- Adding subtle highlight on hover -->
            <div class="absolute bottom-0 left-0 h-full w-1 bg-pink-500 opacity-0 transition-all duration-300 group-hover:opacity-100"></div>
          </div>
        </div>
      </div>

      <!-- Tomorrow's Reminders with maternal colors -->
      <div *ngIf="tomorrowReminders().length > 0" class="transform transition-all duration-300 hover:translate-y-[-2px]">
        <h3 class="mb-3 text-sm font-medium text-purple-600">Ngày mai</h3>
        <div class="space-y-3">
          <div
            *ngFor="let reminder of tomorrowReminders(); let i = index"
            class="group relative flex items-center justify-between rounded-xl border-l-4 border-purple-400 bg-gradient-to-r from-purple-50/80 to-white p-4 shadow-sm transition-all hover:shadow-md hover:shadow-purple-200/20"
            [style]="'animation-delay: ' + (i * 0.1 + 0.3) + 's'"
            style="animation: fadeInUp 0.5s ease-out both"
          >
            <div class="flex items-center space-x-4">
              <div class="shrink-0 rounded-full bg-purple-100 p-2.5 shadow-sm transition-all group-hover:bg-purple-200">
                <svg
                  *ngIf="reminder.type == ReminderType.USER_CREATED_REMINDER"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 text-purple-500"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                  />
                </svg>
                <svg
                  *ngIf="reminder.type == ReminderType.FOLLOW_UP_MEETING"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 text-purple-500"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                  />
                </svg>
              </div>
              <div>
                <h4 class="text-base font-medium text-gray-800 transition-colors group-hover:text-purple-700">{{ reminder.title }}</h4>
                <p class="text-sm text-gray-500 transition-colors group-hover:text-gray-600">{{ reminder.content }}</p>
              </div>
            </div>

            <!-- Adding subtle highlight on hover -->
            <div class="absolute bottom-0 left-0 h-full w-1 bg-purple-400 opacity-0 transition-all duration-300 group-hover:opacity-100"></div>
          </div>
        </div>
      </div>

      <!-- Upcoming Reminders with softer style -->
      <div *ngIf="upcomingReminders().length > 0" class="transform transition-all duration-300 hover:translate-y-[-2px]">
        <h3 class="mb-3 text-sm font-medium text-indigo-600">Sắp tới</h3>
        <div class="space-y-3">
          <div
            *ngFor="let reminder of upcomingReminders(); let i = index"
            class="group relative flex items-center justify-between rounded-xl border-l-4 border-indigo-400 bg-gradient-to-r from-indigo-50/80 to-white p-4 shadow-sm transition-all hover:shadow-md hover:shadow-indigo-200/20"
            [style]="'animation-delay: ' + (i * 0.1 + 0.6) + 's'"
            style="animation: fadeInUp 0.5s ease-out both"
          >
            <div class="flex items-center space-x-4">
              <div class="shrink-0 rounded-full bg-indigo-100 p-2.5 shadow-sm transition-all group-hover:bg-indigo-200">
                <svg
                  *ngIf="reminder.type == ReminderType.USER_CREATED_REMINDER"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 text-indigo-500"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
                  />
                </svg>
                <svg
                  *ngIf="reminder.type == ReminderType.FOLLOW_UP_MEETING"
                  xmlns="http://www.w3.org/2000/svg"
                  class="h-5 w-5 text-indigo-500"
                  fill="none"
                  viewBox="0 0 24 24"
                  stroke="currentColor"
                >
                  <path
                    stroke-linecap="round"
                    stroke-linejoin="round"
                    stroke-width="2"
                    d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"
                  />
                </svg>
              </div>
              <div>
                <h4 class="text-base font-medium text-gray-800 transition-colors group-hover:text-indigo-700">{{ reminder.title }}</h4>
                <p class="text-sm text-gray-500 transition-colors group-hover:text-gray-600">{{ reminder.content }}</p>
              </div>
            </div>

            <!-- Adding subtle highlight on hover -->
            <div class="absolute bottom-0 left-0 h-full w-1 bg-indigo-400 opacity-0 transition-all duration-300 group-hover:opacity-100"></div>
          </div>
        </div>
      </div>

      <!-- No Reminders State with maternal styling -->
      <div
        *ngIf="!isLoading && todayReminders().length === 0 && tomorrowReminders().length === 0 && upcomingReminders().length === 0"
        class="flex flex-col items-center justify-center py-10"
        style="animation: fadeIn 0.8s ease-out"
      >
        <div
          class="mb-6 flex h-20 w-20 items-center justify-center rounded-full bg-gradient-to-br from-pink-100 to-purple-100 p-5 shadow-inner shadow-pink-200/50"
        >
          <svg xmlns="http://www.w3.org/2000/svg" class="h-10 w-10 text-pink-400" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path
              stroke-linecap="round"
              stroke-linejoin="round"
              stroke-width="1.5"
              d="M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"
            />
          </svg>
        </div>
        <h4 class="mb-3 text-xl font-bold text-pink-600">Chưa có lịch nhắc nhở</h4>
        <p class="mb-6 max-w-xs text-center text-gray-500">Hãy thêm những lịch hẹn quan trọng để chúng tôi có thể nhắc nhở bạn vào đúng thời điểm.</p>
        <button
          (click)="calendar_link.click()"
          class="group flex items-center space-x-2 rounded-full bg-gradient-to-r from-pink-400 to-pink-600 px-5 py-2.5 font-medium text-white shadow-md transition-all duration-300 hover:from-pink-500 hover:to-pink-700 hover:shadow-lg active:scale-95"
        >
          <a #calendar_link hidden routerLink="/calendar"></a>
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="h-5 w-5 transition-transform duration-300 group-hover:rotate-12"
            viewBox="0 0 20 20"
            fill="currentColor"
          >
            <path fill-rule="evenodd" d="M10 5a1 1 0 011 1v3h3a1 1 0 110 2h-3v3a1 1 0 11-2 0v-3H6a1 1 0 110-2h3V6a1 1 0 011-1z" clip-rule="evenodd" />
          </svg>
          <span>Tạo lịch nhắc nhở</span>
        </button>
      </div>

      <!-- Loading State - Maternal styled spinner -->
      <div *ngIf="isLoading" class="flex justify-center py-12">
        <div class="relative flex h-20 w-20 items-center justify-center">
          <!-- Pink pulsing circles -->
          <div class="absolute h-full w-full animate-ping rounded-full bg-pink-200 opacity-75"></div>
          <div class="absolute h-4/5 w-4/5 animate-pulse rounded-full bg-pink-300 opacity-75"></div>
          <div class="absolute h-3/5 w-3/5 animate-pulse rounded-full bg-pink-400 opacity-75" style="animation-delay: 0.3s"></div>

          <!-- Heart icon in center -->
          <svg
            xmlns="http://www.w3.org/2000/svg"
            class="relative z-10 h-8 w-8 animate-bounce text-white"
            viewBox="0 0 20 20"
            fill="currentColor"
            style="animation-duration: 2s"
          >
            <path
              fill-rule="evenodd"
              d="M3.172 5.172a4 4 0 015.656 0L10 6.343l1.172-1.171a4 4 0 115.656 5.656L10 17.657l-6.828-6.829a4 4 0 010-5.656z"
              clip-rule="evenodd"
            />
          </svg>
        </div>
      </div>
    </div>

    <!-- View All Link with maternal styling -->
    <div *ngIf="hasMoreReminders" class="mt-4 flex w-full justify-center text-center">
      <a
        routerLink="/calendar"
        class="group inline-flex items-center space-x-2 rounded-full bg-pink-50 px-5 py-2 text-sm font-medium text-pink-600 transition-all duration-300 hover:bg-pink-100 hover:shadow-sm"
      >
        <span>Xem tất cả lịch nhắc nhở</span>
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-4 w-4 transition-transform duration-300 group-hover:translate-x-1"
          viewBox="0 0 20 20"
          fill="currentColor"
        >
          <path
            fill-rule="evenodd"
            d="M12.293 5.293a1 1 0 011.414 0l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414-1.414L14.586 11H3a1 1 0 110-2h11.586l-2.293-2.293a1 1 0 010-1.414z"
            clip-rule="evenodd"
          />
        </svg>
      </a>
    </div>
  </div>
</div>
